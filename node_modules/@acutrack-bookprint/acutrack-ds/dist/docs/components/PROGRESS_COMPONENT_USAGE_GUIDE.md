# Progress Component Usage Guide

## Overview

The **Progress** component displays a visual indicator of progress toward completion. It has been refactored to be a **lean, composable component** that focuses on its single responsibility: displaying a progress bar.

All styling and auxiliary content (labels, percentages, helper text) should now be composed using standard HTML elements for maximum flexibility.

---

## Installation

```tsx
import { Progress } from '@acutrack-bookprint/acutrack-ds';
```

---

## Quick Start

### Basic Usage (New Lean API)

```tsx
// Simple progress bar
<Progress value={65} />

// With color
<Progress value={80} color="success" />

// With stripes
<Progress value={50} isStriped />

// Striped and animated
<Progress value={50} isStriped isAnimated />
```

### Composed with Label (Recommended)

```tsx
<div>
  <div className="flex justify-between mb-1">
    <label className="text-sm font-medium text-text-primary dark:text-dark-text-primary">
      Upload Progress
    </label>
    <span className="text-sm font-medium text-text-secondary dark:text-dark-text-secondary">
      75%
    </span>
  </div>
  <Progress value={75} />
</div>
```

---

## Props Reference

### Core Props (New API)

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `value` | `number` | Required | The current progress value (between `min` and `max`) |
| `min` | `number` | `0` | The minimum value |
| `max` | `number` | `100` | The maximum value |
| `size` | `'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl'` | `'md'` | The height of the progress bar |
| `color` | `'primary' \| 'success' \| 'warning' \| 'danger' \| 'info'` | `'primary'` | The color theme |
| `isStriped` | `boolean` | `false` | Adds a striped pattern |
| `isAnimated` | `boolean` | `false` | Animates the stripes (requires `isStriped`) |
| `className` | `string` | - | Custom classes for the container |
| `progressClassName` | `string` | - | Custom classes for the progress bar |

---

## Size Variants

```tsx
<Progress value={70} size="xs" />  // Height: h-1
<Progress value={70} size="sm" />  // Height: h-1.5
<Progress value={70} size="md" />  // Height: h-2.5 (default)
<Progress value={70} size="lg" />  // Height: h-4
<Progress value={70} size="xl" />  // Height: h-6
```

---

## Color Variants

```tsx
<Progress value={60} color="primary" />  // Brand orange
<Progress value={60} color="success" />  // Green
<Progress value={60} color="warning" />  // Yellow
<Progress value={60} color="danger" />   // Red
<Progress value={60} color="info" />     // Blue
```

---

## Striped & Animated

```tsx
// Striped pattern
<Progress value={50} isStriped />

// Animated stripes (for active/loading states)
<Progress value={50} isStriped isAnimated />
```

---

## Custom Styling via className

The component uses sensible defaults (background, rounded corners). Override with `className`:

```tsx
// Add shadow
<Progress value={50} className="shadow-md" />

// Add border
<Progress value={50} className="border border-border-color" />

// Remove rounded corners
<Progress value={50} className="rounded-none" />

// Transparent background
<Progress value={50} className="bg-transparent" />

// Combined
<Progress value={50} className="shadow-lg border rounded-lg" />
```

---

## Custom Min/Max Range

```tsx
// Progress from 0 to 200
<Progress value={150} min={0} max={200} />

// Points out of 1000
<Progress value={750} min={0} max={1000} color="success" />
```

---

## Common Use Cases

### File Upload

```tsx
<div>
  <div className="flex justify-between mb-1">
    <span className="text-sm font-medium text-text-primary dark:text-dark-text-primary">
      document.pdf
    </span>
    <span className="text-sm font-medium text-text-secondary dark:text-dark-text-secondary">
      67%
    </span>
  </div>
  <Progress value={67} isStriped isAnimated />
  <p className="text-xs text-text-secondary dark:text-dark-text-secondary mt-1">
    67.3 MB of 100 MB uploaded
  </p>
</div>
```

### Storage Usage (Warning State)

```tsx
<div>
  <div className="flex justify-between mb-1">
    <span className="text-sm font-medium text-text-primary dark:text-dark-text-primary">
      Storage
    </span>
    <span className="text-sm font-medium text-system-warning">
      92%
    </span>
  </div>
  <Progress value={92} color="warning" />
  <p className="text-xs text-system-warning mt-1">
    ⚠️ 46 GB of 50 GB used
  </p>
</div>
```

### Skill Levels / Ratings

```tsx
<div className="space-y-3">
  {skills.map(({ name, level, color }) => (
    <div key={name}>
      <div className="flex justify-between mb-1">
        <span className="text-sm text-text-primary">{name}</span>
        <span className="text-sm text-text-secondary">{level}%</span>
      </div>
      <Progress value={level} size="sm" color={color} />
    </div>
  ))}
</div>
```

---

## Migration Guide

The Progress component has been refactored from a monolithic component with 40+ props to a lean, composable element. **Legacy props still work for backward compatibility.**

### 1. Basic Usage (No Change)

The core props remain the same:

```tsx
<Progress value={50} color="success" isStriped isAnimated />
```

### 2. Labels, Percentages, and Helper Text

All text props have been deprecated. Compose with standard elements:

**Before (Legacy - Still Works):**

```tsx
<Progress 
  value={75} 
  label="Upload Progress" 
  showPercentage 
  helperText="This may take a moment." 
/>
```

**After (New - Recommended):**

```tsx
<div>
  <div className="flex justify-between mb-1">
    <label className="text-sm font-medium text-text-primary dark:text-dark-text-primary">
      Upload Progress
    </label>
    <span className="text-sm font-medium text-text-secondary dark:text-dark-text-secondary">
      75%
    </span>
  </div>
  <Progress value={75} />
  <p className="text-sm text-text-secondary dark:text-dark-text-secondary mt-1">
    This may take a moment.
  </p>
</div>
```

### 3. Styling Props

Boolean styling props are deprecated. Use `className`:

| Before | After |
|--------|-------|
| `hasShadow` | `className="shadow-md"` |
| `hasBorder` | `className="border border-border-color"` |
| `hasRoundedCorners={false}` | `className="rounded-none"` |
| `hasBackground={false}` | `className="bg-transparent"` |

### 4. State Colors

Boolean state props are deprecated. Use `color`:

| Before | After |
|--------|-------|
| `isSuccess` | `color="success"` |
| `isWarning` | `color="warning"` |
| `isError` | `color="danger"` |
| `isInfo` | `color="info"` |

---

## Deprecated Props Reference

The following props still work but are deprecated:

| Prop | Migration |
|------|-----------|
| `label` | Compose your own label element |
| `showLabel` | Compose your own label element |
| `showPercentage` | Compose your own percentage element |
| `helperText` | Compose your own helper text element |
| `error` | Compose your own error text element |
| `description` | Compose your own description element |
| `formatValue` | Format values in your composed elements |
| `showTooltip` / `tooltipText` | Use the Tooltip component |
| `showCustomRange` / `rangeLabels` | Compose your own range labels |
| `hasBackground` | Use `className="bg-transparent"` |
| `hasBorder` | Use `className="border border-border-color"` |
| `hasRoundedCorners` | Use `className="rounded-none"` |
| `hasShadow` | Use `className="shadow-md"` |
| `isSuccess` / `isWarning` / `isError` / `isInfo` | Use `color` prop |
| `isLoading` / `isPulsing` | Use `className="animate-pulse"` |
| `isFullWidth` | Use `className="w-auto"` |
| `hasHoverEffect` | Use `className="hover:opacity-80"` |
| `isInteractive` | Use `onClick` and `className="cursor-pointer"` |

---

## Accessibility

The Progress component includes proper ARIA attributes:

```tsx
<div
  role="progressbar"
  aria-valuenow={65}
  aria-valuemin={0}
  aria-valuemax={100}
>
  ...
</div>
```

For labeled progress bars, associate the label:

```tsx
<label id="upload-label">Upload Progress</label>
<Progress value={65} aria-labelledby="upload-label" />
```

---

## Best Practices

1. **Use the composable approach** for new code - it's more flexible and maintainable
2. **Keep it simple** - the Progress bar just shows progress; compose context around it
3. **Use semantic colors** - `success` for completion, `warning` for alerts, `danger` for errors
4. **Add context** - always include labels and percentages for better UX
5. **Animate thoughtfully** - use `isAnimated` only for active/ongoing processes




